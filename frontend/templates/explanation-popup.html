<div id="explanation-drawer" class="explanation-modal" 
     style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 92%; max-width: 500px; background: var(--modal-bg, #ffffff); border-radius: 30px; padding: 40px; box-shadow: 0 30px 60px rgba(0,0,0,0.15); z-index: 2000; border: 1px solid var(--border-color, rgba(0,0,0,0.05)); transition: all 0.3s ease;">
    
    <div class="explanation-header" style="display: flex; align-items: center; gap: 15px; margin-bottom: 25px;">
        <div style="background: #FFF9E6; padding: 12px; border-radius: 15px; font-size: 1.6rem; box-shadow: inset 0 0 10px rgba(255, 179, 0, 0.1);">ðŸ’¡</div>
        <div>
            <h4 style="margin: 0; color: var(--text-main, #0f172a); font-size: 1.4rem; font-weight: 800; letter-spacing: -0.5px;">Deep Dive Insight</h4>
            <span style="font-size: 0.75rem; color: var(--primary-gold, #FFB300); font-weight: 700; text-transform: uppercase; letter-spacing: 1px;">AI Generated Breakdown</span>
        </div>
    </div>

    <div class="explanation-body" style="margin-bottom: 35px; max-height: 250px; overflow-y: auto; padding-right: 10px;">
        <p id="explanation-content" style="line-height: 1.7; color: var(--text-sub, #475569); font-size: 1.05rem;">
            The Theory of Relativity explains how time and space are linked...
        </p>
    </div>

    <button class="btn-continue" onclick="closeExplanation()" 
            style="width: 100%; padding: 16px; background: var(--primary-gold, #FFB300); color: white; border: none; border-radius: 18px; font-weight: 800; font-size: 1rem; cursor: pointer; box-shadow: 0 10px 20px rgba(255, 179, 0, 0.2); transition: 0.3s;">
        Got it, Continue! ðŸš€
    </button>
</div>

<div id="modal-overlay" onclick="closeExplanation()" 
     style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.4); backdrop-filter: blur(8px); z-index: 1999; animation: fadeIn 0.3s ease;">
</div>

<style>
    :root {
        --modal-bg: #ffffff;
        --text-main: #0f172a;
        --text-sub: #475569;
        --border-color: rgba(0,0,0,0.05);
    }

    /* Dark Mode Support */
    [data-theme='dark'] {
        --modal-bg: #1e293b;
        --text-main: #f8fafc;
        --text-sub: #cbd5e1;
        --border-color: rgba(255,255,255,0.1);
    }

    /* Scrollbar Styling */
    .explanation-body::-webkit-scrollbar { width: 5px; }
    .explanation-body::-webkit-scrollbar-track { background: transparent; }
    .explanation-body::-webkit-scrollbar-thumb { background: #e2e8f0; border-radius: 10px; }

    .btn-continue:hover {
        transform: translateY(-2px);
        background: #e6a100;
        box-shadow: 0 12px 24px rgba(255, 179, 0, 0.3);
    }

    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }

    @keyframes slideUp {
        from { transform: translate(-50%, -40%); opacity: 0; }
        to { transform: translate(-50%, -50%); opacity: 1; }
    }

    .show-modal {
        display: block !important;
        animation: slideUp 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
    }
</style>

<script>
    function showExplanation(text) {
        const modal = document.getElementById('explanation-drawer');
        const overlay = document.getElementById('modal-overlay');
        const content = document.getElementById('explanation-content');

        content.innerText = text;
        
        // Modal and Overlay ko show karna
        overlay.style.display = 'block';
        modal.classList.add('show-modal');

        // Body scroll block karna
        document.body.style.overflow = 'hidden';
    }

    function closeExplanation() {
        const modal = document.getElementById('explanation-drawer');
        const overlay = document.getElementById('modal-overlay');

        modal.classList.remove('show-modal');
        setTimeout(() => {
            overlay.style.display = 'none';
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }, 300);
    }
</script>
